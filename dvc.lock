schema: '2.0'
stages:
  prepare:
    cmd: python3 src/prepare.py
    deps:
    - path: annotattions-first-train-draft
      md5: 8f55e5941b3898654cad394952bcbaa5.dir
      size: 25903
      nfiles: 588
    - path: data_first_draft
      md5: f8e86aeae5709b21bd112f43934b037a.dir
      size: 7311988
      nfiles: 578
    - path: src/prepare.py
      md5: 9b7ae5aa684c89b45c5c6de13290cfb3
      size: 4612
    - path: src/utils/cv_utils.py
      md5: 8c6983297f37f8baa60adc36477517b6
      size: 3575
    params:
      params.yaml:
        prepare.adjust_images_brightness_strategy: Dark
        prepare.gamma: 0.4
        prepare.percentile: 25
        prepare.seed: 4224
        prepare.test_proportion: 0.1
        prepare.train_proportion: 0.7
        prepare.validation_proportion: 0.2
    outs:
    - path: datasets
      hash: md5
      md5: ae60e88d105b4c413842f2c3345a48bc.dir
      size: 6845899
      nfiles: 1137
    - path: yolo-config.yaml
      md5: cad5a17e129b150451b06ad13a3c2cbb
      size: 256
  training:
    cmd: python3 src/train.py
    deps:
    - path: datasets
      hash: md5
      md5: 5c1199aae029a9967310ced99ee061aa.dir
      size: 6978115
      nfiles: 1139
    - path: src/train.py
      hash: md5
      md5: 45fdd564bbb3395e11d185af08ce09c3
      size: 1498
    - path: yolo-config.yaml
      md5: cad5a17e129b150451b06ad13a3c2cbb
      size: 256
    params:
      params.yaml:
        train.batch_size: 16
        train.directory_output: output
        train.epochs: 500
        train.image_size: 640
        train.init_lr: 0.0001
        train.optimizer: Adam
        train.patience: 25
        train.seed: 4224
    outs:
    - path: logs/train_metrics.csv
      hash: md5
      md5: ca4f2089277b693b4b5fef6d0cdccff0
      size: 291
    - path: output/train
      hash: md5
      md5: 1a08c5c33236e937d60088c014465904.dir
      size: 18696589
      nfiles: 23
  testing:
    cmd: python3 src/test.py
    deps:
    - path: output/train/weights
      hash: md5
      md5: 3e916e8fd640d6ebb4ef62f8896b288c.dir
      size: 12591218
      nfiles: 2
    - path: src/test.py
      hash: md5
      md5: 338d020fe908d6c0dc9eafb074c3ca56
      size: 984
    - path: src/utils/plot_utils.py
      md5: fd3cce311a1ca889833460f7628aa505
      size: 490
    params:
      params.yaml:
        test.directory_output: output
    outs:
    - path: logs/test_metrics.csv
      hash: md5
      md5: f64ba94bef69e3c96be987c7859aa8c0
      size: 286
    - path: output/test
      hash: md5
      md5: 92bc97b4cad219dc139cc22fee67e191.dir
      size: 12444
      nfiles: 1
